@template.layouts.manager(
    headContent = @`
        <link rel="stylesheet" href="/assets/css/manager/report.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    `,
    content = @`
        <main class="main">
            <div class="main-container">
                <div class="page-header">
                    <h2 class="page-title">B√°o c√°o ƒëi·ªÅu ch·ªânh & tr·∫£ h√†ng h·∫øt h·∫°n</h2>
                </div>

                <!-- Summary Cards -->
                <div class="summary-grid">
                    <div class="summary-card summary-card-loss">
                        <div class="card-icon">üìâ</div>
                        <div class="card-content">
                            <div class="card-label">T·ªïng l·ªó (H·∫øt h·∫°n + Thi·∫øu)</div>
                            <div class="card-value card-value-red" id="totalLoss">-</div>
                        </div>
                    </div>
                    <div class="summary-card summary-card-offset">
                        <div class="card-icon">üìà</div>
                        <div class="card-content">
                            <div class="card-label">T·ªïng b√π ƒë·∫Øp (Th·ª´a)</div>
                            <div class="card-value card-value-green" id="totalOffset">-</div>
                        </div>
                    </div>
                    <div class="summary-card summary-card-net">
                        <div class="card-icon">üí∞</div>
                        <div class="card-content">
                            <div class="card-label">Th·∫•t tho√°t th·ª±c t·∫ø (NET)</div>
                            <div class="card-value card-value-highlight" id="netLoss">-</div>
                        </div>
                    </div>
                </div>

                <!-- Chart Section -->
                <div class="report-section">
                    <div class="section-header">
                        <h3>Bi·ªÉu ƒë·ªì ki·ªÉm kho & tr·∫£ h√†ng</h3>
                        <div class="chart-controls">
                            <select id="rangeSelect" class="form-select">
                                <option value="week">7 ng√†y</option>
                                <option value="month">30 ng√†y</option>
                                <option value="quarter">3 th√°ng</option>
                            </select>
                            <div class="btn-group">
                                <button id="chartBarBtn" class="btn btn-sm">üìä C·ªôt</button>
                                <button id="chartLineBtn" class="btn btn-sm">üìà ƒê∆∞·ªùng</button>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="adjustmentChart"></canvas>
                    </div>
                </div>

                <!-- Activities List -->
                <div class="report-section">
                    <div class="section-header">
                        <h3>Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h3>
                        <select id="typeFilter" class="form-select">
                            <option value="all">T·∫•t c·∫£</option>
                            <option value="INVENTORY_ADJUSTMENT">Ki·ªÉm kho</option>
                            <option value="BR_TO_WARE2">Tr·∫£ h√†ng h·∫øt h·∫°n</option>
                        </select>
                    </div>
                    <div class="report-container">
                        <table class="report-table">
                            <thead>
                                <tr>
                                    <th>M√£</th>
                                    <th>Lo·∫°i</th>
                                    <th>Tr·∫°ng th√°i</th>
                                    <th>Gi√° tr·ªã</th>
                                    <th>Th·ªùi gian</th>
                                    <th class="text-center">H√†nh ƒë·ªông</th>
                                </tr>
                            </thead>
                            <tbody id="activitiesTableBody">
                                <!-- Data will be rendered here by JS -->
                            </tbody>
                        </table>
                    </div>

                    <div class="pagination-container">
                        <div class="pagination-left">
                            <label for="recordsPerPage" style="display: inline-flex; align-items: center; gap: 8px;">
                                <span>Hi·ªÉn th·ªã</span>
                                <select id="recordsPerPage" class="form-select" style="width: auto; padding: 6px 32px 6px 12px;">
                                    <option value="10" selected>10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                                <span>ho·∫°t ƒë·ªông</span>
                            </label>
                        </div>
                        <div class="pagination-info">
                            Hi·ªÉn th·ªã <span id="showingFrom">1</span> - <span id="showingTo">10</span> / <span id="totalItems">0</span> ho·∫°t ƒë·ªông
                        </div>
                        <div class="pagination-controls" id="paginationButtons">
                            <!-- Dynamic pagination buttons rendered by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Detail Modal -->
        <div id="detailModal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
            <div class="modal-panel">
                <header class="modal-header">
                    <h3 id="modalTitle">Chi ti·∫øt</h3>
                    <button id="modalClose" class="modal-close" aria-label="ƒê√≥ng">‚úï</button>
                </header>
                <div class="modal-body" id="modalBody">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </div>

        <div id="toast" class="toast hidden"></div>
    `,
    pageScript = @`
        <script src="/assets/js/manager/adjustments.js" defer></script>
    `
)
