@template.layouts.admin(
headContent = @`
    <link rel="stylesheet" href="/assets/css/admin/accounts.css">
    <link rel="stylesheet" href="/assets/css/admin/form.css">
`,
pageScript = @`<script src="/assets/js/admin/accounts.js" defer></script>`,
content = @`
    <main class="main">
        <div class="main-container">
            <div class="page-header">
                <h2 class="page-title">Qu·∫£n l√Ω t√†i kho·∫£n</h2>
                <div class="page-actions">
                    <button id="btnCreateAccount" class="btn btn-primary">+ T·∫°o t√†i kho·∫£n</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="search-wrap">
                        <span class="icon-search">üîç</span>
                        <input id="searchInput" class="input input-search" placeholder="T√¨m theo t√™n ƒëƒÉng nh·∫≠p, h·ªç t√™n, email, vai tr√≤ ho·∫∑c chi nh√°nh">
                    </div>
                    <div class="card-actions">
                        <button id="btnToggleDeleted" class="btn btn-outline">Hi·ªÉn th·ªã t√†i kho·∫£n ƒë√£ x√≥a</button>
                    </div>
                </div>

                <div class="card-body">
                    <table class="table">
                        <thead>
                        <tr>
                            <th class="text-center">#</th>
                            <th>T√™n ƒëƒÉng nh·∫≠p</th>
                            <th>H·ªç t√™n</th>
                            <th>Vai tr√≤</th>
                            <th>Chi nh√°nh</th>
                            <th>Email</th>
                            <th>SƒêT</th>
                            <th class="text-center">Tr·∫°ng th√°i</th>
                            <th class="text-center">H√†nh ƒë·ªông</th>
                        </tr>
                        </thead>
                        <tbody id="accountTableBody">
                        <!-- rendered by accounts.js -->
                        </tbody>
                    </table>
                    <div id="emptyState" class="empty hidden">Ch∆∞a c√≥ t√†i kho·∫£n.</div>
                </div>
                <div class="pagination-container">
                    <div class="pagination-controls">
                        <button id="prev-page" disabled>&laquo; Tr∆∞·ªõc</button>
                        <span id="page-info">Trang 1 / 1</span>
                        <button id="next-page" disabled>Sau &raquo;</button>
                    </div>
                    <div class="records-per-page">
                        <label for="records-per-page">S·ªë b·∫£n ghi:</label>
                        <select id="records-per-page" class="form-select">
                            <option value="10">10</option>
                            <option value="25" selected>25</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal (Create / Edit) -->
    <div id="accountModal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-panel">
            <header class="modal-header">
                <h3 id="modalTitle">T·∫°o t√†i kho·∫£n</h3>
                <button id="modalClose" class="modal-close" aria-label="ƒê√≥ng">‚úï</button>
            </header>

            <form id="accountForm" class="modal-form" autocomplete="off">
                <input type="hidden" id="accountId" name="id">

                <div class="form-grid">
                    <label>Username <span class="required">*</span>
                        <input id="userName" name="userName" required>
                    </label>

                    <label>H·ªç t√™n <span class="required">*</span>
                        <input id="fullName" name="fullName" required>
                    </label>

                    <label>Vai tr√≤ <span class="required">*</span>
                        <select id="roleId" name="roleId" required>
                            <option value="">-- Ch·ªçn vai tr√≤ --</option>
                            <option value="2">Ch·ªß doanh nghi·ªáp (Owner)</option>
                            <option value="3">Qu·∫£n l√Ω chi nh√°nh (Manager)</option>
                            <option value="5">Nh√¢n vi√™n kho t·ªïng (Warehouse)</option>
                        </select>
                    </label>

                    <label id="branchWrapper">Chi nh√°nh <span class="required">*</span>
                        <select id="branchId" name="branchId">
                            <option value="">-- Ch·ªçn chi nh√°nh --</option>
                            <!-- populated by accounts.js -->
                        </select>
                    </label>

                    <label>Email
                        <input id="email" name="email" type="email">
                    </label>

                    <label>S·ªë ƒëi·ªán tho·∫°i
                        <input id="phoneNumber" name="phoneNumber" type="tel">
                    </label>

                    <label id="passwordWrapper">M·∫≠t kh·∫©u <span class="required">*</span>
                        <input id="password" name="password" type="password">
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" id="btnCancel" class="btn btn-outline">H·ªßy</button>
                    <button type="submit" id="btnSave" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Simple toast container -->
    <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>
`)

