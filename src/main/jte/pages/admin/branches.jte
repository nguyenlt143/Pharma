@template.layouts.admin(
headContent = @`
    <link rel="stylesheet" href="/assets/css/admin/accounts.css">
    <link rel="stylesheet" href="/assets/css/admin/form.css">
`,
pageScript = @`<script src="/assets/js/admin/branches.js" defer></script>`,
content = @`
    <main class="main">
        <div class="main-container">
            <div class="page-header">
                <h2 class="page-title">Qu·∫£n l√Ω chi nh√°nh</h2>
                <div class="page-actions">
                    <button id="btnCreateBranch" class="btn btn-primary">+ T·∫°o chi nh√°nh</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="search-wrap">
                        <span class="icon-search">üîç</span>
                        <input id="searchInput" class="input input-search" placeholder="T√¨m theo t√™n chi nh√°nh ho·∫∑c ƒë·ªãa ch·ªâ">
                    </div>
                    <div class="card-actions">
                        <button id="btnToggleDeleted" class="btn btn-outline">Hi·ªÉn th·ªã chi nh√°nh ƒë√£ x√≥a</button>
                    </div>
                </div>

                <div class="card-body">
                    <table class="table">
                        <thead>
                        <tr>
                            <th class="text-center">#</th>
                            <th>T√™n chi nh√°nh</th>
                            <th>Lo·∫°i</th>
                            <th>ƒê·ªãa ch·ªâ</th>
                            <th class="text-center">Tr·∫°ng th√°i</th>
                            <th class="text-center">H√†nh ƒë·ªông</th>
                        </tr>
                        </thead>
                        <tbody id="branchTableBody">
                        <!-- rendered by branches.js -->
                        </tbody>
                    </table>
                    <div id="emptyState" class="empty hidden">Ch∆∞a c√≥ chi nh√°nh.</div>
                </div>
                <div class="pagination-container">
                    <div class="pagination-controls">
                        <button id="prev-page" disabled>&laquo; Tr∆∞·ªõc</button>
                        <span id="page-info">Trang 1 / 1</span>
                        <button id="next-page" disabled>Sau &raquo;</button>
                    </div>
                    <div class="records-per-page">
                        <label for="records-per-page">S·ªë b·∫£n ghi:</label>
                        <select id="records-per-page" class="form-select">
                            <option value="10">10</option>
                            <option value="25" selected>25</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal (Create / Edit) -->
    <div id="branchModal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-panel">
            <header class="modal-header">
                <h3 id="modalTitle">T·∫°o chi nh√°nh</h3>
                <button id="modalClose" class="modal-close" aria-label="ƒê√≥ng">‚úï</button>
            </header>

            <form id="branchForm" class="modal-form" autocomplete="off">
                <input type="hidden" id="branchId" name="id">

                <div class="form-grid">
                    <label>T√™n chi nh√°nh <span class="required">*</span>
                        <input id="name" name="name" required placeholder="VD: Chi nh√°nh H√† N·ªôi">
                        <div class="invalid-feedback" id="name-error"></div>
                    </label>

                    <label>Lo·∫°i chi nh√°nh <span class="required">*</span>
                        <select id="branchType" name="branchType" required>
                            <option value="">-- Ch·ªçn lo·∫°i --</option>
                            <option value="HEAD_QUARTER">T·ªïng c√¥ng ty</option>
                            <option value="BRANCH">Chi nh√°nh</option>
                            <option value="DISPOSAL_AREA">Khu v·ª±c h·ªßy</option>
                        </select>
                        <div class="invalid-feedback" id="branchType-error"></div>
                    </label>

                    <label class="full-width">ƒê·ªãa ch·ªâ <span class="required">*</span>
                        <input id="address" name="address" required placeholder="VD: 123 ƒê∆∞·ªùng ABC, Qu·∫≠n XYZ">
                        <div class="invalid-feedback" id="address-error"></div>
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" id="btnCancel" class="btn btn-outline">H·ªßy</button>
                    <button type="submit" id="btnSave" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Simple toast container -->
    <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>
`)

